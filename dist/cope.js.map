{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap fa6fe8211ee18a20be1e","webpack:///./src/index.js","webpack:///./src/cope.js","webpack:///./src/coper.js","webpack:///./src/progress.js","webpack:///./src/utils.js","webpack:///./src/promise.js","webpack:///./src/events.js","webpack:///./src/runner.js","webpack:///./src/result.js"],"names":[],"mappings":"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","file":"cope.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cope\"] = factory();\n\telse\n\t\troot[\"cope\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap fa6fe8211ee18a20be1e\n **/","var cope = require('./cope.js');\n\nmodule.exports = cope.default;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import * as coper from './coper';\n\n// - - - - - - - - - - - - - - - - - - - - - - -\n\nfunction cope(startingFunction) {\n    return cope.clone(null)(startingFunction);\n}\n\ncope.clone = coper.clone;\n\n\nexport default cope;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/cope.js\n **/","import {\n    sumProgress\n}  from './progress';\n\nimport * as utils from './utils';\n\nimport {\n    enhancePromise\n} from './promise';\n\nimport {\n    createPhaseRunnerGenerator\n} from './runner';\n\n// - - - - - - - - - - - - - - - - - - - - - - -\n\nfunction clone(oldChain) {\n    return create(oldChain);\n}\n\nfunction chain(oldChain, arg) {\n    return create(utils.arrayIfEmpty(oldChain).concat([arg]));\n}\n\nfunction execute(chain) {\n\n    var coperPromise;\n\n    var recalculateProgress = () => {\n        coperPromise.progress(\n            sumProgress(runners)\n        );\n    };\n\n    var runners = utils.arrayIfEmpty(chain).map(createPhaseRunnerGenerator(recalculateProgress));\n\n    var results = [];\n\n    var promiseChain = Promise.resolve();\n\n    var chainRunners = (runner) => {\n        promiseChain = promiseChain\n            .then(runner)\n            .then(result => {\n                results.unshift(result);\n                return results;\n            });\n    };\n\n    runners.forEach(chainRunners);\n\n    coperPromise = promiseChain.then(()=>results[0]);\n    enhancePromise(coperPromise);\n    return coperPromise;\n}\n\nfunction create(currentChain = []) {\n\n    function coper(arg) {\n        if (!utils.isEmpty(arg)) {\n            return chain(currentChain, arg);\n        } else {\n            return execute(currentChain);\n        }\n    }\n\n    return coper;\n\n}\n\nexport {\n    create,\n    clone\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/coper.js\n **/","import {\n    isArray\n} from './utils';\n\n// - - - - - - - - - - - - - - - - - - - - - - -\n\nfunction sumProgress(progressableArray) {\n    if (isArray(progressableArray)) {\n        var progressSum = progressableArray.reduce((sum, step) => {\n            return sum + (step.progress ? step.progress() : 0);\n        }, 0);\n\n        return progressSum / progressableArray.length;\n    }\n    return 0;\n}\n\nfunction addProgress(subject) {\n    subject._progress = subject._progress || 0;\n    subject.progress = function (newValue) {\n        if (typeof newValue === \"number\") {\n            subject._progress = newValue;\n            subject.triggerListener && subject.triggerListener(\"progress\", newValue);\n        }\n        return subject._progress || 0;\n    };\n}\n\nexport {\n    sumProgress,\n    addProgress\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/progress.js\n **/","export function isArray(arg) {\n    return typeof arg === \"object\" && arg instanceof Array;\n}\n\nexport function isPromise(arg) {\n    return typeof arg === \"object\" && arg instanceof Promise;\n}\n\nexport function isObject(arg) {\n    return typeof arg === \"object\" && !isNull(arg) && !isArray(arg);\n}\n\nexport function isFunction(arg) {\n    return arg && (typeof arg === \"function\");\n}\n\nexport function isUndefined(arg) {\n    return arg === undefined;\n}\n\nexport function isNull(arg) {\n    return arg === null;\n}\n\nexport function isEmpty(arg) {\n    return isUndefined(arg) || isNull(arg);\n}\n\nexport function append(target, source) {\n    Object.keys(source).forEach(function (key) {\n        target[key] = source[key];\n    });\n}\n\nexport function values(/*Object*/arg) {\n    return mapValues(arg, (key)=>arg[key]);\n}\n\nexport function mapValues(arg, func) {\n    return Object.keys(arg).map(func);\n}\nexport function mapObject(arg, func) {\n    var mappedObject={};\n    Object.keys(arg).forEach((key) => {\n        mappedObject[key] = func(arg[key]);\n    });\n    return mappedObject;\n}\n\nexport function forEachPromise(arg, func) {\n    return arg.forEach(function (single) {\n        single.then(func);\n    })\n}\n\nexport function objectIfEmpty(oldArg) {\n    if (isEmpty(oldArg)) {\n        return {};\n    }\n    return oldArg;\n}\n\nexport function arrayIfEmpty(oldArg) {\n    if (isEmpty(oldArg)) {\n        return [];\n    }\n    return oldArg;\n}\n\nexport function toPromise(arg) {\n    if (isPromise(arg)) {\n        return arg;\n    }\n    return Promise.resolve(arg);\n}\n\nexport function execute(func) {\n    if (isFunction(func)) {\n        return func.apply(undefined, Array.prototype.slice.call(arguments, 1));\n    } else {\n        return func;\n    }\n}\n\nexport function noop() {\n}\nexport function forceThrow(msg) {\n    return ()=> {\n        throw new Error(msg);\n    }\n}\n\nexport function getterSetter(subject, key, getter, setter) {\n    Object.defineProperty(subject, key, {\n        \"configurable\": false,\n        \"enumerable\": true,\n        \"get\": getter || noop,\n        \"set\": setter || noop\n    })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","import {\n    addProgress\n}  from './progress';\n\nimport {\n    addEvents\n} from './events';\n\n// - - - - - - - - - - - - - - - - - - - - - - -\n\n/**\n * Progressify a promise\n * @param {Promise} p\n */\nfunction enhancePromise(p) {\n    addProgress(p);\n    addEvents(p);\n\n    // don't use Promise prototype due to possible usage of other Promise libraries\n    var originalThen = p.then;\n\n    p.then = (onResolve, onReject, onProgress) => {\n        if (onProgress) {\n            p.addListener('progress', onProgress);\n        }\n        if (onResolve || onReject) {\n            return originalThen.call(p, onResolve, onReject);\n        } else {\n            return p;\n        }\n    };\n\n    var listenerRemover = () => {\n        p.removeListener('progress');\n    };\n    originalThen.call(p, listenerRemover, listenerRemover);\n}\n\nexport {\n    enhancePromise\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/promise.js\n **/","function addEvents(subject) {\n\n    var listeners = [];\n\n    subject.addListener\n        = subject.addEventListener\n        = function addEventListener(eventName, listener) {\n        listeners[eventName] = listeners[eventName] || [];\n        if (listener && listeners[eventName].indexOf(listener) < 0) {\n            listeners[eventName].push(listener);\n        }\n        return subject;\n    };\n\n    subject.removeListener\n        = subject.removeEventListener\n        = function (eventName, listener) {\n        listeners[eventName] = listeners[eventName] || [];\n        if (listener) {\n            if (listeners[eventName].indexOf(listener) >= 0) {\n                listeners[eventName].splice(\n                    listeners[eventName].indexOf(listener), 1\n                );\n            }\n        } else {\n            listeners[eventName] = null;\n        }\n        return subject;\n    };\n\n    subject.triggerListener = function triggerListener(eventName, eventSubject) {\n        if (listeners[eventName]) {\n            listeners[eventName].forEach(listener=> {\n                listener.call(undefined, (eventSubject !== undefined ? eventSubject : null));\n            });\n        }\n        return subject;\n    }\n\n}\n\nexport {\n    addEvents\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/events.js\n **/","//=include ./result.js\n\nimport {\n    sumProgress,\n    addProgress\n} from './progress';\n\nimport {\n    resolveResult\n} from './result';\n\nimport {\n    isArray,\n    isObject,\n    isFunction,\n    mapObject\n} from './utils';\n\n// - - - - - - - - - - - - - - - - - - - - - - -\n\n/**\n * Function that runs a function if function is given\n * or returns a value if first argument is a value\n * @param {Function|*} func\n * @param {Array} args\n * @returns {*}\n */\nfunction resolvePossibleFunc(func, args) {\n    if (isFunction(func)) {\n        return func.apply(null, args);\n    } else {\n        return func;\n    }\n}\n\nfunction resolveObjectPhase(phase, previousResult) {\n    return resolveResult(\n        mapObject(\n            phase,\n            phasePart => resolvePossibleFunc(phasePart, previousResult)\n        )\n    );\n}\n\nfunction resolveArrayPhase(phase, previousResult) {\n    return resolveResult(phase.map(\n        phasePart => resolvePossibleFunc(phasePart, previousResult)\n    ));\n}\n\nfunction resolveFuncPhase(phase, previousResult) {\n    return resolveResult(resolvePossibleFunc(phase, previousResult));\n}\n\n/**\n * @callback Phase\n * @param {...*} previousResults\n */\n\n/**\n * @callback ProgressCallback\n */\n\n/**\n *\n * @param {ProgressCallback} progressCb\n * @returns {createPhaseRunner}\n */\n\nexport function createPhaseRunnerGenerator(progressCb) {\n\n    /**\n     * Returns function that will deal with running a phase and reporting a progress\n     * @param {Phase} phase\n     * @returns {runner}\n     */\n    function createPhaseRunner(phase) {\n\n        /**\n         * Function that knows is for running phase that is has in its closure\n         * @param {Array} previousResults\n         */\n        function runner(previousResults) {\n\n\n            if (isArray(phase)) {\n                var {resultPromise, stepsPromises} = resolveArrayPhase(phase, previousResults);\n            }\n            else if (isObject(phase)) {\n                var {resultPromise, stepsPromises} = resolveObjectPhase(phase, previousResults);\n            }\n            else {\n                var {resultPromise, stepsPromises} = resolveFuncPhase(phase, previousResults);\n            }\n\n            stepsPromises.forEach(function (step) {\n                step.then(() => {\n                    step.progress(1);\n                    runner.progress(sumProgress(stepsPromises));\n                    progressCb();\n                }, null, progress => {\n                    if (typeof progress === 'number') {\n                        runner.progress(sumProgress(stepsPromises));\n                        progressCb();\n                    }\n                });\n            });\n\n            return resultPromise;\n        }\n\n        addProgress(runner);\n\n        return runner;\n    }\n\n    return createPhaseRunner;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/runner.js\n **/","import {\n    isObject,\n    isArray,\n    isNull,\n    append,\n    mapValues,\n    isPromise,\n    toPromise\n} from './utils';\n\nimport {\n    addProgress\n} from './progress';\n\n// - - - - - - - - - - - - - - - - - - - - - - -\n\nfunction collectResults(resultsArray) {\n\n    var mergedResult = {};\n\n    resultsArray.forEach((result)=> {\n        if (isObject(result) && !isNull(result)) {\n            append(mergedResult, result);\n        }\n    });\n\n    return mergedResult;\n}\n\nfunction resolveArray(executionResult) {\n    var stepsPromises = executionResult.map(toPromise);\n    var resultPromise = Promise.all(stepsPromises);\n\n    return {stepsPromises, resultPromise};\n}\n\nfunction resolveMap(executionResult) {\n    var stepsPromises = mapValues(executionResult, key => toPromise(executionResult[key]));\n    var resultPromise = Promise.all(mapValues(executionResult, function (key) {\n        return toPromise(executionResult[key])\n            .then(function (resultPart) {\n                return {[key]: resultPart};\n            });\n    })).then(collectResults);\n\n    return {stepsPromises, resultPromise};\n}\n\nfunction resolveAny(executionResult) {\n    var resultPromise = toPromise(executionResult);\n    var stepsPromises = [resultPromise];\n\n    return {stepsPromises, resultPromise};\n}\n\nexport function resolveResult(executionResult) {\n    if (isArray(executionResult)) {\n        /** if is an array of values/Promises */\n        var {stepsPromises,resultPromise} = resolveArray(executionResult);\n    } else if (!isPromise(executionResult) && isObject(executionResult)) {\n        /** if is a map of values/Promises */\n        var {stepsPromises,resultPromise} = resolveMap(executionResult);\n    } else {\n        /** if value Promise or just a value */\n        var {stepsPromises,resultPromise} = resolveAny(executionResult);\n    }\n\n    stepsPromises.forEach(addProgress);\n\n    return {\n        stepsPromises,\n        resultPromise\n    };\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/result.js\n **/"],"sourceRoot":""}